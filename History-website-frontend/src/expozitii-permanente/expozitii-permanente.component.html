<main class="expozitii-permanente">
  <!-- Borduri decorative cu modele populare romÃ¢neÈ™ti -->
  <div class="decorative-borders">
    <div class="decorative-border-left"></div>
    <div class="decorative-border-right"></div>
  </div>
  
  <app-meniu></app-meniu>
  <app-cadran>
    <div class="container">
      <div class="header-nav">
        <button class="back-button" routerLink="/">â† Ãnapoi la pagina principalÄƒ</button>
        <h1 class="title">ExpoziÈ›ii Permanente</h1>
      </div>
      
      <p class="intro-text">
        Muzeul GrÄƒniceresc NÄƒsÄƒudean gÄƒzduieÈ™te trei expoziÈ›ii permanente care pun Ã®n valoare istoria, 
        cultura È™i tradiÈ›iile regiunii. VÄƒ invitÄƒm sÄƒ descoperiÈ›i bogÄƒÈ›ia patrimoniului nostru prin intermediul 
        acestor colecÈ›ii valoroase.
      </p>

      <div class="category-selector">
        <button [class.active]="selectedSection === 'istorie'" (click)="switchSection('istorie')">ExpoziÈ›ia de Istorie</button>
        <button [class.active]="selectedSection === 'etnografie'" (click)="switchSection('etnografie')">ExpoziÈ›ia de Etnografie</button>
        <button [class.active]="selectedSection === 'aerLiber'" (click)="switchSection('aerLiber')">SecÈ›ia Ã®n Aer Liber</button>
      </div>

      <!-- ExpoziÈ›ia de Istorie -->
      <div class="section-description" *ngIf="selectedSection === 'istorie'">
        <h2>ExpoziÈ›ia PermanentÄƒ de Istorie</h2>
        <p><em>InauguratÄƒ Ã®n decembrie 2011</em></p>
        <p>
          AceastÄƒ expoziÈ›ie permanentÄƒ prezintÄƒ istoria fascinantÄƒ a Regimentului II RomÃ¢nesc de GraniÈ›Äƒ È™i impactul sÄƒu 
          asupra dezvoltÄƒrii zonei NÄƒsÄƒud. Vizitatorii pot descoperi documentele, armele, uniformele È™i obiectele personale 
          care ilustreazÄƒ viaÈ›a È™i activitatea grÄƒnicerilor nÄƒsÄƒudeni. De asemenea, expoziÈ›ia include o secÈ›iune dedicatÄƒ 
          personalitÄƒÈ›ilor marcante care au contribuit la dezvoltarea culturalÄƒ È™i istoricÄƒ a regiunii.
        </p>
        <div class="exhibitions-grid">
          <div class="exhibition-item" *ngFor="let image of getPaginatedImages()" (click)="openGallery(image)">
            <div class="exhibition-image-container">
              <img [src]="image.url" [alt]="image.filename" class="exhibition-image" loading="lazy" />
            </div>
            <!-- <div class="exhibition-info">
              <p>{{ image.description || 'Vedere din expoziÈ›ia de istorie' }}</p>
            </div> -->
          </div>
        </div>
        
        <!-- Pagination Controls -->
        <div class="pagination-controls" *ngIf="totalPages > 1">
          <button class="pagination-btn" (click)="prevPage()" [disabled]="currentPage === 1">
            â® Anterior
          </button>
          
          <div class="page-numbers">
            <button 
              *ngFor="let pageNum of getPageNumbers()" 
              class="page-number" 
              [class.active]="pageNum === currentPage"
              (click)="goToPage(pageNum)">
              {{ pageNum }}
            </button>
          </div>
          
          <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
            UrmÄƒtorul â¯
          </button>
        </div>
        
        <div class="pagination-info" *ngIf="totalPages > 1">
          <p>Pagina {{ currentPage }} din {{ totalPages }} ({{ getCurrentSectionImages().length }} imagini Ã®n total)</p>
        </div>
      </div>

      <!-- ExpoziÈ›ia de Etnografie -->
      <div class="section-description" *ngIf="selectedSection === 'etnografie'">
        <h2>ExpoziÈ›ia de Etnografie</h2>
        <p><em>InauguratÄƒ Ã®n mai 2009, de "Zilele NÄƒsÄƒudului"</em></p>
        <p>
          ExpoziÈ›ia de etnografie prezintÄƒ tradiÈ›iile, costumele È™i obiceiurile specifice zonei NÄƒsÄƒud È™i ÈšÄƒrii NÄƒsÄƒudului. 
          ColecÈ›ia cuprinde costume populare autentice, obiecte de uz casnic tradiÈ›ional, instrumente de lucru È™i piese de 
          artizanat local. AceastÄƒ expoziÈ›ie oferÄƒ o perspectivÄƒ completÄƒ asupra vieÈ›ii È™i culturii tradiÈ›ionale din regiunea 
          grÄƒnicereascÄƒ nÄƒsÄƒudeanÄƒ.
        </p>
        <div class="exhibitions-grid">
          <div class="exhibition-item" *ngFor="let image of getPaginatedImages()" (click)="openGallery(image)">
            <div class="exhibition-image-container">
              <img [src]="image.url" [alt]="image.filename" class="exhibition-image" loading="lazy" />
            </div>
            <!-- <div class="exhibition-info">
              <p>{{ image.description || 'Vedere din expoziÈ›ia de etnografie' }}</p>
            </div> -->
          </div>
        </div>
        
        <!-- Pagination Controls -->
        <div class="pagination-controls" *ngIf="totalPages > 1">
          <button class="pagination-btn" (click)="prevPage()" [disabled]="currentPage === 1">
            â® Anterior
          </button>
          
          <div class="page-numbers">
            <button 
              *ngFor="let pageNum of getPageNumbers()" 
              class="page-number" 
              [class.active]="pageNum === currentPage"
              (click)="goToPage(pageNum)">
              {{ pageNum }}
            </button>
          </div>
          
          <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
            UrmÄƒtorul â¯
          </button>
        </div>
        
        <div class="pagination-info" *ngIf="totalPages > 1">
          <p>Pagina {{ currentPage }} din {{ totalPages }} ({{ getCurrentSectionImages().length }} imagini Ã®n total)</p>
        </div>
      </div>

      <!-- SecÈ›ia Ã®n Aer Liber -->
      <div class="section-description" *ngIf="selectedSection === 'aerLiber'">
        <h2>SecÈ›ia Ã®n Aer Liber</h2>
        <p><em>FinalizatÄƒ Ã®n 2010, inauguratÄƒ Ã®n decembrie 2010</em></p>
        <p>
          SituatÄƒ Ã®n curtea din spate a muzeului, secÈ›ia Ã®n aer liber cu specific etnografic reprezintÄƒ o atracÈ›ie unicÄƒ. 
          Centrul de atracÈ›ie Ã®l constituie o veche casÄƒ cu specific È›ÄƒrÄƒnesc, strÄƒmutatÄƒ din localitatea Ilva Mare È™i 
          reconstruitÄƒ fidel Ã®n incinta muzeului. AceastÄƒ casÄƒ tradiÈ›ionalÄƒ oferÄƒ vizitatorilor posibilitatea de a experimenta 
          direct arhitectura È™i stilul de viaÈ›Äƒ din satele nÄƒsÄƒudene de odinioarÄƒ.
        </p>
        <div class="exhibitions-grid">
          <div class="exhibition-item" *ngFor="let image of getPaginatedImages()" (click)="openGallery(image)">
            <div class="exhibition-image-container">
              <img [src]="image.url" [alt]="image.filename" class="exhibition-image" loading="lazy" />
            </div>
            <!-- <div class="exhibition-info">
              <p>{{ image.description || 'Vedere din secÈ›ia Ã®n aer liber' }}</p>
            </div> -->
          </div>
        </div>
        
        <!-- Pagination Controls -->
        <div class="pagination-controls" *ngIf="totalPages > 1">
          <button class="pagination-btn" (click)="prevPage()" [disabled]="currentPage === 1">
            â® Anterior
          </button>
          
          <div class="page-numbers">
            <button 
              *ngFor="let pageNum of getPageNumbers()" 
              class="page-number" 
              [class.active]="pageNum === currentPage"
              (click)="goToPage(pageNum)">
              {{ pageNum }}
            </button>
          </div>
          
          <button class="pagination-btn" (click)="nextPage()" [disabled]="currentPage === totalPages">
            UrmÄƒtorul â¯
          </button>
        </div>
        
        <div class="pagination-info" *ngIf="totalPages > 1">
          <p>Pagina {{ currentPage }} din {{ totalPages }} ({{ getCurrentSectionImages().length }} imagini Ã®n total)</p>
        </div>
      </div>
      
      <div class="info-section">
        <h3>Program de vizitare</h3>
        <p>ExpoziÈ›iile permanente pot fi vizitate Ã®n timpul programului normal al muzeului:</p>
        <ul>
          <li><strong>MarÈ›i - Vineri:</strong> 9:00 - 17:00</li>
          <li><strong>SÃ¢mbÄƒtÄƒ - DuminicÄƒ:</strong> 10:00 - 16:00</li>
          <li><strong>Luni:</strong> Ãnchis</li>
        </ul>
        <p>Pentru grupuri organizate, vÄƒ rugÄƒm sÄƒ faceÈ›i o rezervare Ã®n prealabil.</p>
      </div>

      <!-- Gallery modal -->
      <div class="gallery-modal" *ngIf="showGallery" [class.fullscreen]="isFullscreen">
        <div class="gallery-overlay" (click)="closeGallery()"></div>
        
        <div class="gallery-content" [class.fullscreen-content]="isFullscreen">
          <button class="gallery-close" (click)="closeGallery()">Ã—</button>
          
          <div class="gallery-title">
            <h3>{{ getCurrentImageTitle() }}</h3>
          </div>
          
          <div class="gallery-image-container" 
               (mousedown)="startDrag($event)" 
               (mousemove)="onDrag($event)" 
               (mouseup)="stopDrag()" 
               (mouseleave)="stopDrag()">
            <img *ngIf="currentImage" 
                 [src]="currentImage.url" 
                 [alt]="currentImage.filename" 
                 class="gallery-image" 
                 [ngStyle]="getImageStyle()" 
                 draggable="false" />
          </div>
          
          <div class="gallery-controls">
            <div class="controls-left">
              <button class="gallery-nav prev" (click)="prevImage()" title="Imaginea anterioarÄƒ (â†)">â®</button>
            </div>
            
            <div class="controls-center">
              <span class="gallery-counter">{{ currentImageIndex + 1 }} / {{ currentImages.length }}</span>
              
              <div class="action-controls">
                <div class="zoom-controls">
                  <button class="control-button" (click)="zoomOut()" title="MicÈ™oreazÄƒ (-)">âˆ’</button>
                  <span class="zoom-level">{{ (zoomLevel * 100).toFixed(0) }}%</span>
                  <button class="control-button" (click)="zoomIn()" title="MÄƒreÈ™te (+)">+</button>
                  <button class="control-button" (click)="resetZoom()" title="ReseteazÄƒ zoom (0)">â†º</button>
                </div>
                
                <div class="transform-controls">
                  <button class="control-button" (click)="resetImageTransforms()" title="ReseteazÄƒ transformÄƒrile">
                    ğŸ”„
                  </button>
                  <button class="control-button fullscreen-btn" (click)="toggleFullscreen()" [title]="isFullscreen ? 'IeÈ™i din fullscreen (F)' : 'Fullscreen (F)'">
                    <span *ngIf="!isFullscreen">â›¶</span>
                    <span *ngIf="isFullscreen">â§‰</span>
                  </button>
                </div>
              </div>
            </div>
            
            <div class="controls-right">
              <button class="gallery-nav next" (click)="nextImage()" title="Imaginea urmÄƒtoare (â†’)">â¯</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </app-cadran>
</main>