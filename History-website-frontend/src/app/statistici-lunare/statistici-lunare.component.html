<app-meniu></app-meniu>

<div class="statistici-container">
  <h2>Statistici Muzeu</h2>
  
  <!-- Navigare Ã®ntre secÈ›iuni -->
  <div class="section-nav">
    <button 
      class="nav-button" 
      [class.active]="currentSection === 'vizite'"
      (click)="changeSection('vizite')">
      ğŸ“Š Statistici Vizite
    </button>
    <button 
      class="nav-button" 
      [class.active]="currentSection === 'evenimente'"
      (click)="changeSection('evenimente')">
      ğŸ¯ Statistici Evenimente
    </button>
  </div>

  <!-- SecÈ›iunea Statistici Vizite -->
  <div *ngIf="currentSection === 'vizite'" class="stats-section">
    <div class="section-header">
      <h3>ğŸ“Š Statistici pentru Vizite la Muzeu</h3>
      <p>Analiza rezervÄƒrilor È™i vizitelor la muzeu</p>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">{{ totalReservations }}</div>
        <div class="stat-label">RezervÄƒri Confirmate</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-number">{{ totalVisitors }}</div>
        <div class="stat-label">Total Persoane</div>
      </div>
    </div>

    <!-- Statistici pe categorii de vÃ¢rstÄƒ -->
    <div class="age-stats-section">
      <h4>ğŸ“Š RezervÄƒri pe Categorii de VÃ¢rstÄƒ</h4>
      <div class="age-stats-grid">
        <div class="age-stat-card" *ngFor="let ageStat of ageGroupStats">
          <div class="age-stat-number">{{ ageStat.count }}</div>
          <div class="age-stat-label">{{ ageStat.label }}</div>
          <div class="age-stat-percentage">{{ ageStat.percentage }}%</div>
        </div>
        <div class="age-stat-card no-age" *ngIf="noAgeGroupCount > 0">
          <div class="age-stat-number">{{ noAgeGroupCount }}</div>
          <div class="age-stat-label">FÄƒrÄƒ categorie</div>
          <div class="age-stat-percentage">{{ noAgeGroupPercentage }}%</div>
        </div>
      </div>
    </div>

    <div class="detailed-stats">
      <h4>Detalii RezervÄƒri Recent</h4>
      <div *ngIf="recentReservations.length === 0" class="no-data">
        Nu existÄƒ rezervÄƒri recent
      </div>
      <div *ngIf="recentReservations.length > 0" class="reservations-list">
        <div *ngFor="let reservation of recentReservations" class="reservation-item">
          <div class="reservation-info">
            <strong>{{reservation.name}}</strong> - {{reservation.numberOfPersons}} persoane
            <br>
            <small>{{reservation.date}} | Status: {{reservation.status}}</small>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- SecÈ›iunea Statistici Evenimente -->
  <div *ngIf="currentSection === 'evenimente'" class="stats-section">
    <div class="section-header">
      <h3>ğŸ¯ Statistici pentru Evenimente</h3>
      <p>Analiza evenimentelor È™i participanÈ›ilor</p>
    </div>

    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-number">{{ totalEvents }}</div>
        <div class="stat-label">Total Evenimente</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-number">{{ activeEvents }}</div>
        <div class="stat-label">Evenimente Active</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-number">{{ totalParticipants }}</div>
        <div class="stat-label">Total ParticipanÈ›i</div>
      </div>
      
      <div class="stat-card">
        <div class="stat-number">{{ upcomingEvents }}</div>
        <div class="stat-label">Evenimente Viitoare</div>
      </div>
    </div>

    <div class="detailed-stats">
      <h4>Evenimente Recent</h4>
      <div *ngIf="recentEvents.length === 0" class="no-data">
        Nu existÄƒ evenimente recent
      </div>
      <div *ngIf="recentEvents.length > 0" class="events-list">
        <div *ngFor="let event of recentEvents" class="event-item">
          <div class="event-info">
            <strong>{{event.title}}</strong>
            <br>
            <small>{{event.startDate}} - {{event.endDate}} | {{event.location}}</small>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
